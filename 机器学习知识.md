# 第一章

·机器学习：一个计算机程序利用经验E来学习任务T，性能是P，如果针对任务T的性能P随着经验E不断增长，则称为机器学习

·它试图解决什么问题：

1. 有解决方案（但解决方案需要进行大量人工微调或需要遵循大量规则）的问题：机器学习算法通常可以简化代码，相比传统方法有更好的性能。

2. 传统方法难以解决的复杂问题：最好的机器学习技术也许可以找到解决方案。
3. 环境有波动：机器学习算法可以适应新数据。
4. 洞察复杂问题和大量数据。

·系统的主要类别和基本概念：

1. 是否在人类监督下训练（有监督学习、无监督学习、半监督学习和强化学习）。

   - 有监督学习（训练集中含标签）：·k-近邻算法·线性回归·逻辑回归·支持向量机（SVM）·决策树和随机森林·神经网络
   - 无监督学习（训练集中无标签）：聚类算法、可视化算法、降维算法、异常检测、新颖性检
   - 半监督学习（有标签但不是所有都有）：照片托管服务
   - 强化学习（能够观察环境，做出选择，执行动作，并获得回报（或者是以负面回报的形式获得惩罚）。所以它必须自行学习什么是最好的策略，从而随着时间的推移获得最大的回报。）：机器人行走

2. 是否可以动态地进行增量学习（在线学习和批量学习）。

   - 批量学习（无法进行增量学习）：缺点是耗费几个小时和金钱、占用大量资源
   - 在线学习（可以进行增量学习）：每一步学习都很快而且便宜，节省空间，学习率高时学习更快遗忘也快，学习率低学习更慢对噪声和离群值序列不敏感

3. 是简单地将新的数据点和已知的数据点进行匹配，还是像科学家那样，对训练数据进行模式检测然后建立一个预测模型（基于实例的学习和基于模型的学习）

   - 基于实例的学习（学习已有示例，然后对比新示例与之的相似度度量，从而泛化新示例）
   - 基于模型的学习（构建实例的模型然后用模型来预测）

   

·坏数据：不具有代表性（采样偏差）、特征缺失、异常
·坏算法：过拟合（用正则化解决）、欠拟合（模型更复杂、提供更多特征集、减少模型约束）
·超参数调整：训练集分为部分训练集和验证集，在部分训练集上训练多个模型后在验证集上验证，选出最优模型，然后在完整训练集上训练最优模型得到最终模型，最后在测试集上评估这个模型以获得泛化误差的估计值
·数据不匹配：把一部分训练图片放到train-dev集中，训练时用训练集，如果模型在train-dev集中表现良好，说明模型没有过拟合，如果模型在验证集中表现不好，说明是验证集与训练集数据不匹配；如果模型在train-dev集中表现不好，说明模型过拟合

# 第二章

机器学习步骤：
1.框出问题并看整体。
2.获取数据。
3.研究数据以获得深刻见解。
4.准备数据以便更好地将潜在的数据模式提供给机器学习算法。
5.探索许多不同的模型，并列出最佳模型。
6.微调你的模型，并将它们组合成一个很好的解决方案。
7.演示你的解决方案。
8.启动、监视和维护你的系统。

B.1　框出问题并看整体
1.用业务术语定义目标。
2.你的解决方案将如何使用？
3.当前有什么解决方案/解决方法（如果有）？
4.你应该如何阐述这个问题（有监督/无监督，在线/离线等）？
5.应该如何衡量性能？

- 回归问题的典型性能指标：
- 均方根误差RMSE=√(1/n)×Σ(y_pred−y_true)²
  平均绝对误差  MAE = (1/n) × Σ|yi - fi|
  RMSE和MAE都是测量预测值向量和目标值向量之间距离的方法

6.性能指标是否符合业务目标？
7.达到业务目标所需的最低性能是多少？
8.有没有一些相似的问题？你可以重用经验或工具吗？
9.有没有相关有经验的人？
10.你会如何手动解决问题？
11.列出你（或其他人）到目前为止所做的假设。
12.如果可能，请验证假设。

B.2　获取数据
注意：尽可能地自动化，以便你可以轻松地获取新数据。
1.列出所需的数据以及你需要多少数据。
2.查找并记录可从何处获取该数据。
3.检查将占用多少空间。
4.检查法律义务，并在必要时获得授权。
5.获取访问授权。
6.创建一个工作空间（具有足够的存储空间）。
7.获取数据。
8.将数据转换为可以轻松操作的格式（无须更改数据本身）。
9.确保敏感信息被删除或受保护（例如匿名）。
10.检查数据的大小和类型（时间序列、样本、地理等）。
11.抽样一个测试集，将其放在一边，再也不要看它（无数据监
听！）。

B.3　研究数据
注意：请尝试从现场专家那里获取有关这些步骤的见解。
1.创建数据副本来进行研究（必要时将其采样到可以管理的大
小）。
2.创建Jupyter notebook以记录你的数据研究。
3.研究每个属性及其特征：
·名称
·类型（分类、整数/浮点型、有界/无界、文本、结构化等）
·缺失值的百分比
·噪声和噪声类型（随机、异常值、舍入误差等）
·任务的实用性
·分布类型（高斯分布、均匀分布、对数分布等）
4.对于有监督学习任务，请确定目标属性。
5.可视化数据。
6.研究属性之间的相关性。
7.研究如何手动解决问题。
8.确定你可能希望使用的转变。
9.确定有用的额外数据。
10.记录所学的知识。

B.4　准备数据
注意：
·在数据副本上工作（保持原始数据集完整）。
·为你应用的所有数据转换编写函数，原因有5个：
·下次获取新的数据集时，你可以轻松准备数据。
·可以在未来的项目中应用这些转换。
·清理并准备测试集。
·解决方案上线后清理并准备新的数据实例。
·使你可以轻松地将准备选择视为超参数。
1.数据清理：
·修复或删除异常值（可选）。
·填写缺失值（例如，零、均值、中位数）或删除其行（或
列）。
2.特征选择（可选）：
·删除没有为任务提供有用信息的属性。
3.特征工程（如果适用）：
·离散化连续特征。
·分解特征（例如分类、日期/时间等）。
·添加有希望的特征转换（例如log（x）、sqrt（x）、x2等）。
·将特征聚合为有希望的新特征。
4.特征缩放：
·标准化或归一化特征。

B.5　列出有前途的模型
注意：
·如果数据量巨大，则可能需要采样为较小的训练集，以便可以
在合理的时间内训练许多不同的模型（请注意，这会对诸如大型神经
网络或随机森林之类的复杂模型造成不利影响）。
·尽可能自动化地执行这些步骤。
1.使用标准参数训练来自不同类别（例如线性、朴素贝叶斯、
SVM、随机森林、神经网络等）的许多快速和粗糙的模型。
2.衡量并比较其性能。
·对于每个模型，使用N折交叉验证，在N折上计算性能度量的均
值和标准差。
3.分析每种算法的最重要的变量。
4.分析模型所犯错误的类型。
·人类将使用什么数据来避免这些错误？
5.快速进行特征选择和特征工程。
6.在前面5个步骤中执行一两个以上的快速迭代。
7.筛选出前三到五个最有希望的模型，优先选择会产生不同类型
错误的模型。

B.6　微调系统
注意：
·你将需要在此步骤中使用尽可能多的数据，尤其是在微调结束
时。
·与往常一样，尽可能做到自动化。
1.使用交叉验证微调超参数：
·将你的数据转换选择视为超参数，尤其是当你对它们不确定时
（例如，如果不确定是否用零或中位数替换缺失值，或者只是删除
行）。
·除非要研究的超参数值很少，否则应优先选择随机搜索而不是
网格搜索。如果训练时间很长，你可能更喜欢贝叶斯优化方法（如
Jasper Snoek等人所述使用高斯过程先验）[1]。
2.尝试使用集成方法。组合最好的模型通常会比单独运行有更好
的性能。
3.一旦对最终模型有信心，就可以在测试集中测量其性能，以估
计泛化误差。
在测量了泛化误差之后，请不要对模型进行调整：否则你会
开始过拟合测试集。

B.7　演示你的解决方案
1.记录你所做的事情。
2.创建一个不错的演示文稿。
·确保先突出大的蓝图。
3.说明你的解决方案为何可以实现业务目标。
4.别忘了介绍你一路上注意到的有趣观点。
·描述什么有效，什么无效。
·列出你的假设和系统的局限性。
5.确保通过精美的可视化效果或易于记忆的陈述来传达你的主要
发现（例如，“中等收入是房价的第一大预测指标”）。

B.8　启动！
1.使你的解决方案准备投入生产环境（插入生产数据输入、编写
单元测试等）。
2.编写监控代码，以定期检查系统的实时性能，并在系统故障时
触发警报。
·当心缓慢的退化：随着数据的发展，模型往往会“腐烂”。
·评估性能可能需要人工流水线（例如通过众包服务）。
·监视你的输入的质量（例如，传感器出现故障，发送了随机
值，或者另一个团队的输出变得过时）。这对于在线学习系统尤其重
要。
3.定期根据新数据重新训练模型（尽可能自动进行）。